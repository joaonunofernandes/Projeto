body {
  /* A calculadora aparece centrada na página */
  font-family: Arial, sans-serif; /* Usa a fonte Arial, com fontes alternativas sans-serif caso a Arial não esteja disponível */
  background-color: #f0f0f0; /* Define o fundo da página com uma cor cinza claro (código hexadecimal) */
  display: flex; /* Utiliza o modelo de layout flexível que facilita o alinhamento de elementos */
  justify-content: center; /* Alinha o conteúdo horizontalmente ao centro da página */
  align-items: center; /* Alinha o conteúdo verticalmente ao centro da página */
  height: 100vh; /* Define a altura como 100% da altura da janela de visualização (viewport height) */
  margin: 0; /* Remove as margens predefinidas do corpo da página para evitar espaços indesejados */
}

.calculator {
  /* Destaque visual para a calculadora */
  width: 100%; /* Ocupa 100% da largura disponível do contentor pai */
  max-width: 700px; /* Aumentado de 600px para 700px para uma calculadora maior */
  background-color: #333; /* Define o fundo da calculadora como cinza escuro */
  padding: 40px; /* Aumentado de 30px para 40px para mais espaço interno */
  border-radius: 20px; /* Aumentado de 15px para 20px para arredondamento mais suave */
  box-shadow: 0px 0px 20px 0px #000; /* Sombra mais pronunciada para maior profundidade */
  text-align: center; /* Centraliza o texto e elementos inline dentro da calculadora */
  position: relative; /* Estabelece um contexto de posicionamento para elementos filhos com position: absolute */
}

h1 {
  /* Destaque do título sobre o fundo escuro */
  color: #fff; /* Define o texto do título como branco para contrastar com o fundo escuro */
  margin-bottom: 25px; /* Aumentado de 20px para 25px */
  font-size: 32px; /* Aumentado de 28px para 32px */
  font-weight: 600; /* Define a espessura da fonte como semi-negrito (600 numa escala de 100-900) */
  letter-spacing: 1px; /* Ajusta o espaçamento entre as letras */
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3); /* Adiciona sombra ao texto para aumentar contraste e legibilidade */
  position: relative; /* Necessário para posicionar elementos pseudo como ::after */
  padding: 12px 15px; /* Aumentado de 10px 15px para 12px 15px */
  background-color: #666; /* Fundo cinza médio para o título, contrastando com o fundo da calculadora */
  border-radius: 10px; /* Aumentado de 8px para 10px */
  display: block; /* Modificado de inline-block para block para ocupar toda a largura */
  width: 100%; /* Faz o título ocupar toda a largura disponível */
  box-sizing: border-box; /* Inclui padding e border na largura total */
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3); /* Sombra para elevação visual */
  border: 2px solid #666; /* Borda da mesma cor do fundo para um efeito subtil */
  margin-top: 60px; /* Espaço acima do título para os botões de menu/histórico */
}

#display {
  /* Aspeto visual do ecrã da calculadora */
  width: 100%; /* Ocupa toda a largura disponível dentro do contentor da calculadora */
  height: 90px; /* Aumentado de 80px para 90px */
  font-size: 42px; /* Aumentado de 36px para 42px */
  text-align: right; /* Alinha o texto à direita, como nas calculadoras tradicionais */
  padding: 18px; /* Aumentado de 15px para 18px */
  margin-bottom: 25px; /* Aumentado de 20px para 25px */
  border-radius: 12px; /* Aumentado de 10px para 12px */
  border: none; /* Remove a borda predefinida dos elementos input */
  background-color: #222; /* Define o fundo do ecrã como cinza muito escuro */
  color: #fff; /* Define a cor do texto como branco para máximo contraste */
  box-sizing: border-box; /* Garante que o padding não afeta a largura total definida */
  overflow: hidden; /* Impede que o conteúdo ultrapasse os limites do ecrã */
  cursor: text; /* Altera o cursor para indicar que o texto pode ser selecionado */
  caret-color: #ff9500; /* Define a cor do cursor de texto como laranja */
}
/* Realce visual do ecrã quando está focado */
#display:focus {
  outline: 2px solid #ff9500; /* Adiciona um contorno laranja de 2 pixels quando o ecrã está selecionado */
}

.buttons {
  /* Organização dos botões em grelha */
  display: grid; /* Utiliza o sistema de layout em grelha CSS para organização dos botões */
  grid-template-columns: repeat(10, 1fr); /* Mantém 10 colunas de igual largura na grelha */
  gap: 12px; /* Aumentado de 10px para 12px */
}

.btn {
  /* Aspeto visual dos botões padrão */
  width: 100%; /* Cada botão ocupa 100% da largura disponível na sua célula da grelha */
  padding: 10px 5px; /* Aumentado de 8px 4px para 10px 5px */
  font-size: 22px; /* Aumentado de 20px para 22px */
  border: none; /* Remove a borda predefinida dos botões */
  border-radius: 12px; /* Aumentado de 10px para 12px */
  background-color: #666; /* Define a cor de fundo dos botões como cinza médio */
  color: #fff; /* Define a cor do texto como branco para bom contraste */
  cursor: pointer; /* Altera o cursor para uma mão quando passa por cima, indicando interatividade */
  transition: background-color 0.2s; /* Cria uma transição suave de 0.2s para mudanças de cor de fundo */
  height: 80px; /* Aumentado de 70px para 80px */
}

.btn:hover {
  background-color: #555; /* Escurece ligeiramente os botões quando o cursor passa por cima */
}

.operator {
  /* Estilo dos botões de operação matemática */
  background-color: #ff9500; /* Define a cor de fundo dos operadores como laranja */
}

.operator:hover {
  /* Efeito ao passar o cursor sobre botões de operação */
  background-color: #e68a00; /* Escurece ligeiramente a cor laranja quando o cursor passa por cima */
}

.btn:active {
  /* Efeito ao clicar em botões normais */
  background-color: #444; /* Escurece ainda mais os botões quando clicados */
}

.operator:active {
  /* Efeito ao clicar em botões de operação */
  background-color: #cc7a00; /* Escurece ainda mais os botões de operação quando clicados */
}

.special {
  background-color: #9d4edd; /* Define a cor roxa para os botões especiais, diferenciando-os visualmente */
}

.special:hover {
  background-color: #7b2cbf; /* Tom mais escuro ao passar o cursor sobre botões especiais */
}

.special:active {
  background-color: #5a189a; /* Tom ainda mais escuro ao clicar nos botões especiais */
}

.dropdown {
  position: absolute; /* Posicionamento absoluto em relação ao contentor pai (calculator) */
  top: 40px; /* Ajustado para alinhar com o padding da calculadora */
  left: 40px; /* Ajustado para alinhar com o padding da calculadora */
  display: inline-block; /* Faz o elemento ocupar apenas o espaço necessário para o conteúdo */
  z-index: 10; /* Define a ordem de empilhamento, garantindo que apareça sobre outros elementos */
}

.dropbtn {
  background-color: #ff9500; /* Cor laranja para o botão do menu, combinando com os botões de operação */
  color: white; /* Texto em branco para contraste com o fundo laranja */
  padding: 10px 15px; /* Padding consistente com btn-history */
  font-size: 16px; /* Tamanho de fonte consistente com btn-history */
  border: none; /* Remove a borda predefinida */
  border-radius: 8px; /* Raio da borda consistente com btn-history */
  cursor: pointer; /* Altera o cursor para uma mão, indicando interatividade */
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3); /* Sombra subtil para dar profundidade ao botão */
  transition: background-color 0.2s; /* Transição suave para mudanças de cor */
  font-weight: bold; /* Texto em negrito para melhor visibilidade */
  width: 110px; /* Largura fixa para combinar com o botão de histórico */
  height: 40px; /* Altura fixa para combinar com o botão de histórico */
  display: flex; /* Usar flexbox para centralizar o conteúdo */
  justify-content: center; /* Centraliza o conteúdo horizontalmente */
  align-items: center; /* Centraliza o conteúdo verticalmente */
}

.dropdown-content {
  display: none; /* O menu fica oculto por predefinição */
  position: absolute; /* Posicionamento absoluto em relação ao contentor .dropdown */
  background-color: #444; /* Fundo cinza escuro para o menu, harmonizando com a calculadora */
  min-width: 140px; /* Largura mínima do menu para acomodar o conteúdo */
  box-shadow: 0px 4px 8px 0px rgba(0,0,0,0.3); /* Sombra para dar profundidade ao menu */
  z-index: 11; /* Garante que o menu apareça sobre outros elementos */
  border-radius: 6px; /* Arredonda os cantos do menu */
  overflow: hidden; /* Garante que o conteúdo não ultrapasse os cantos arredondados */
  margin-top: 15px; /* Ajustado para criar espaçamento consistente */
  border: 1px solid #555; /* Borda subtil para definir melhor os limites do menu */
}

.dropdown-content a {
  color: white; /* Texto em branco para contraste com o fundo escuro */
  padding: 8px 12px; /* Espaço interno para cada item do menu */
  text-decoration: none; /* Remove o sublinhado predefinido dos links */
  display: block; /* Faz cada link ocupar toda a largura disponível no menu */
  transition: background-color 0.2s; /* Transição suave para mudanças de cor */
  border-bottom: 1px solid #555; /* Separador visual entre itens do menu */
  font-size: 14px; /* Tamanho da fonte para os itens do menu */
}

.dropdown-content a:last-child {
  border-bottom: none; /* Remove a borda inferior do último item do menu */
}

.dropdown-content.show {
  display: block; /* Mostra o menu quando a classe .show é adicionada */
}


.dropdown-content a:hover {
  background-color: #555; /* Destaque visual ao passar o cursor sobre os itens do menu */
}


.dropdown:hover .dropbtn {
  background-color: #e68a00; /* Escurece o botão do menu ao passar o cursor */
}

.navigation {
  background-color: #4a6fa5; /* Cor azul para botões de navegação, diferenciando-os visualmente */
}

.navigation:hover {
  background-color: #3a5a80; /* Tom mais escuro ao passar o cursor sobre botões de navegação */
}

.navigation:active {
  background-color: #2a4a70; /* Tom ainda mais escuro ao clicar nos botões de navegação */
}

/* Estilos para o botão e painel de histórico */
.history-btn {
  position: absolute; /* Posicionamento absoluto em relação ao contentor da calculadora */
  top: 40px; /* Ajustado para alinhar com o padding da calculadora */
  right: 40px; /* Ajustado para alinhar com o padding da calculadora */
  z-index: 10; /* Garante que apareça sobre outros elementos */
}

.btn-history {
  background-color: #9d4edd; /* Cor roxa para o botão de histórico, harmonizando com os botões especiais */
  color: white; /* Texto em branco para contraste */
  border: none; /* Remove a borda predefinida */
  padding: 10px 15px; /* Mesma padding que o dropbtn */
  font-size: 16px; /* Mesmo tamanho de fonte que o dropbtn */
  border-radius: 8px; /* Mesmo raio de borda que o dropbtn */
  cursor: pointer; /* Altera o cursor para uma mão, indicando interatividade */
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3); /* Sombra subtil para dar profundidade */
  transition: background-color 0.2s; /* Transição suave para mudanças de cor */
  font-weight: bold; /* Texto em negrito para melhor visibilidade */
  display: flex; /* Usa layout flexível para alinhar o ícone e o texto */
  align-items: center; /* Alinha verticalmente o conteúdo ao centro */
  justify-content: center; /* Centraliza o conteúdo horizontalmente */
  width: 110px; /* Largura fixa igual ao botão de menu */
  height: 40px; /* Altura fixa igual ao botão de menu */
}

/* Ajusta o espaçamento do ícone dentro do botão de histórico */
.btn-history span {
  margin-right: 5px; /* Adiciona margem à direita do ícone para separá-lo do texto */
}

.btn-history:hover {
  background-color: #7b2cbf; /* Tom mais escuro ao passar o cursor sobre o botão de histórico */
}

.history-panel {
  display: none; /* O painel de histórico fica oculto por predefinição */
  position: absolute; /* Posicionamento absoluto em relação ao contentor da calculadora */
  top: 95px; /* Ajustado para manter a mesma distância que o título tem do display */
  right: 40px; /* Alinhado com o padding da calculadora */
  width: 300px; /* Largura fixa de 300 pixels para o painel */
  background-color: #444; /* Fundo cinza escuro, harmonizando com o esquema de cores */
  border-radius: 10px; /* Arredonda os cantos do painel */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); /* Sombra pronunciada para destacar o painel */
  z-index: 100; /* Valor alto para garantir que fique acima de todos os outros elementos */
  border: 1px solid #555; /* Borda subtil para definir melhor os limites */
}

.history-panel.show {
  display: block; /* Mostra o painel quando a classe .show é adicionada */
}

.history-header {
  display: flex; /* Usa layout flexível para organizar os elementos do cabeçalho */
  justify-content: space-between; /* Distribui o espaço entre o título e o botão de fechar */
  align-items: center; /* Alinha verticalmente os elementos ao centro */
  padding: 12px 15px; /* Espaço interno: 12px em cima/baixo e 15px nos lados */
  border-bottom: 1px solid #555; /* Separador visual entre o cabeçalho e o conteúdo */
  background-color: #333; /* Fundo ligeiramente mais escuro que o corpo do painel */
  border-top-left-radius: 10px; /* Arredonda apenas os cantos superiores */
  border-top-right-radius: 10px; /* Arredonda apenas os cantos superiores */
}

.history-header h3 {
  margin: 0; /* Remove a margem predefinida do título */
  color: white; /* Texto em branco para contraste */
  font-size: 16px; /* Tamanho da fonte apropriado para o título do painel */
  font-weight: 600; /* Semi-negrito para destacar o título */
}

.history-close {
  background: none; /* Remove o fundo predefinido do botão */
  border: none; /* Remove a borda predefinida do botão */
  color: #ccc; /* Cor cinza claro para o X de fechar */
  font-size: 24px; /* Tamanho maior para o X */
  cursor: pointer; /* Altera o cursor para uma mão, indicando interatividade */
  padding: 0; /* Remove o espaço interno predefinido do botão */
  line-height: 1; /* Ajusta a altura da linha para centralizar o X */
}

.history-close:hover {
  color: white; /* Muda para branco ao passar o cursor, tornando-o mais visível */
}

.history-items {
  max-height: 320px; /* Altura máxima para a lista de histórico, permitindo scrolling */
  overflow-y: scroll; /* Adiciona barra de deslocamento vertical quando o conteúdo excede a altura */
  scrollbar-width: thin; /* Define a largura da barra de deslocamento como fina para navegadores Firefox */
  scrollbar-color: #666 #444; /* Define as cores da barra de deslocamento para Firefox */
}

.history-item {
  padding: 10px 15px; /* Espaço interno para cada item do histórico */
  border-bottom: 1px solid #555; /* Separador visual entre itens */
  cursor: pointer; /* Altera o cursor para uma mão, indicando que o item é clicável */
  transition: background-color 0.2s; /* Transição suave para mudanças de cor */
}

.history-item:hover {
  background-color: #555; /* Destaque visual ao passar o cursor sobre um item */
}

.history-expression {
  color: #ccc; /* Cor cinza claro para a expressão matemática */
  font-size: 14px; /* Tamanho menor para a expressão */
  margin-bottom: 5px; /* Espaço entre a expressão e o resultado */
  word-break: break-all; /* Permite quebra de linha em qualquer carácter para expressões longas */
}

.history-result {
  color: white; /* Texto em branco para o resultado */
  font-size: 16px; /* Tamanho maior para o resultado, destacando-o */
  font-weight: bold; /* Negrito para enfatizar o resultado */
  word-break: break-all; /* Permite quebra de linha em qualquer carácter para resultados longos */
}

.history-empty {
  padding: 20px; /* Espaço interno para a mensagem de "sem histórico" */
  text-align: center; /* Centraliza a mensagem */
  color: #999; /* Cor cinza médio para a mensagem */
  font-style: italic; /* Texto em itálico para destacar que é uma mensagem informativa */
}

.history-footer {
  padding: 10px 15px; /* Espaço interno para o rodapé */
  border-top: 1px solid #555; /* Separador visual entre o conteúdo e o rodapé */
  text-align: center; /* Centraliza o botão de limpar histórico */
}

.clear-history {
  display: inline-block; /* Faz o elemento ocupar apenas o espaço necessário */
  background-color: #666; /* Cor de fundo cinza médio para o botão */
  color: white; /* Texto em branco para contraste */
  text-decoration: none; /* Remove o sublinhado predefinido do link */
  padding: 8px 15px; /* Espaço interno para o botão */
  border-radius: 5px; /* Arredonda os cantos do botão */
  font-size: 14px; /* Tamanho da fonte para o botão */
  transition: background-color 0.2s; /* Transição suave para mudanças de cor */
}

.clear-history:hover {
  background-color: #777; /* Tom ligeiramente mais claro ao passar o cursor */
}

/* Estilização da barra de deslocamento para navegadores Chrome, Edge e Safari */
.history-items::-webkit-scrollbar {
  width: 8px; /* Define a largura da barra de deslocamento como 8 pixels */
}

.history-items::-webkit-scrollbar-track {
  background: #444; /* Define a cor de fundo da área da barra como cinza escuro */
  border-radius: 4px; /* Arredonda os cantos da área da barra */
}

.history-items::-webkit-scrollbar-thumb {
  background: #666; /* Define a cor do "polegar" da barra como cinza médio */
  border-radius: 4px; /* Arredonda os cantos do "polegar" */
  border: 1px solid #444; /* Adiciona uma borda subtil ao "polegar" */
}

.history-items::-webkit-scrollbar-thumb:hover {
  background: #777; /* Tom ligeiramente mais claro ao passar o cursor sobre a barra */
}

/* Estilo para botões de função específicos que precisam de mais espaço */
.btn.function {
  font-size: 16px; /* Aumentado de 14px para 16px */
}

/* Botões que ocupam duas colunas */
.btn-wide {
  grid-column: span 2;
}

/* Botões que ocupam duas linhas */
.btn-tall {
  grid-row: span 2;
}