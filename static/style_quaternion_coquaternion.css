body {
  /* O corpo da página é configurado para centralizar a calculadora */
  font-family: Arial, sans-serif; /* Define a fonte principal como Arial, com uma alternativa sans-serif */
  background-color: #f0f0f0; /* Define o fundo da página com uma cor cinzenta clara */
  display: flex; /* Usa o modelo de layout flexível para alinhar elementos */
  justify-content: center; /* Alinha horizontalmente o conteúdo ao centro */
  align-items: center; /* Alinha verticalmente o conteúdo ao centro */
  height: 100vh; /* Define a altura como 100% da altura da janela de visualização */
  margin: 0; /* Remove margens predefinidas para evitar espaços indesejados */
}

.calculator {
  /* Configurações visuais para a calculadora */
  width: 100%; /* Faz a calculadora ocupar toda a largura disponível */
  max-width: 700px; /* Define uma largura máxima de 700px */
  background-color: #333; /* Define o fundo da calculadora como cinzento escuro */
  padding: 40px; /* Adiciona espaço interno de 40px */
  border-radius: 20px; /* Arredonda os cantos da calculadora */
  box-shadow: 0px 0px 20px 0px #000; /* Adiciona uma sombra para criar profundidade */
  text-align: center; /* Centraliza o texto dentro da calculadora */
  position: relative; /* Define um contexto de posicionamento para elementos filhos */
  transform: scale(0.9); /* Aplica uma escala de 0.9 à calculadora */
}

h1 {
  /* Estilo do título principal da calculadora */
  color: #fff; /* Define o texto como branco */
  margin-bottom: 25px; /* Adiciona espaço abaixo do título */
  font-size: 32px; /* Define o tamanho da fonte como 32px */
  font-weight: 600; /* Define a espessura da fonte como semi-negrito */
  letter-spacing: 1px; /* Adiciona espaçamento entre as letras */
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3); /* Adiciona uma sombra subtil ao texto */
  position: relative; /* Necessário para posicionar elementos pseudo como ::after */
  padding: 12px 15px; /* Adiciona espaço interno ao título */
  background-color: #666; /* Define o fundo do título como cinzento médio */
  border-radius: 10px; /* Arredonda os cantos do título */
  display: block; /* Faz o título ocupar toda a largura disponível */
  width: 100%; /* Garante que o título ocupa toda a largura */
  box-sizing: border-box; /* Inclui padding e bordas na largura total */
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3); /* Adiciona uma sombra para dar elevação ao título */
  border: 2px solid #666; /* Adiciona uma borda subtil ao título */
  margin-top: 60px; /* Adiciona espaço acima do título */
}

#display {
  /* Configurações visuais para o ecrã da calculadora */
  width: 100%; /* Faz o ecrã ocupar toda a largura disponível */
  height: 90px; /* Define a altura do ecrã como 90px */
  font-size: 42px; /* Define o tamanho da fonte como 42px */
  text-align: right; /* Alinha o texto à direita */
  padding: 18px; /* Adiciona espaço interno ao ecrã */
  margin-bottom: 25px; /* Adiciona espaço abaixo do ecrã */
  border-radius: 12px; /* Arredonda os cantos do ecrã */
  border: none; /* Remove bordas predefinidas */
  background-color: #222; /* Define o fundo do ecrã como cinzento muito escuro */
  color: #fff; /* Define o texto como branco */
  box-sizing: border-box; /* Inclui padding e bordas na largura total */
  overflow: hidden; /* Impede que o conteúdo ultrapasse os limites do ecrã */
  cursor: text; /* Mostra o cursor de texto ao passar sobre o ecrã */
  caret-color: #ff9500; /* Define a cor do cursor de texto como laranja */
}

#display:focus {
  /* Estilo aplicado quando o ecrã está focado */
  outline: 2px solid #ff9500; /* Adiciona um contorno laranja ao ecrã */
}

.buttons {
  /* Configurações para organizar os botões */
  display: grid; /* Usa o layout em grelha para organizar os botões */
  grid-template-columns: repeat(10, 1fr); /* Cria 10 colunas de largura igual */
  gap: 12px; /* Adiciona espaço entre os botões */
}

/* Para os botões normais (números), mantemos o cinza */
.btn {
  width: 100%; /* Faz o botão ocupar toda a largura da célula */
  padding: 10px 5px; /* Adiciona espaço interno ao botão */
  font-size: 22px; /* Define o tamanho da fonte como 22px */
  border: none; /* Remove bordas predefinidas */
  border-radius: 12px; /* Arredonda os cantos do botão */
  background-color: #666; /* Define o fundo do botão como cinzento médio */
  color: #fff; /* Define o texto como branco */
  cursor: pointer; /* Mostra o cursor de mão ao passar sobre o botão */
  transition: background-color 0.2s; /* Adiciona uma transição suave para mudanças de cor */
  height: 80px; /* Define a altura do botão como 80px */
}

.btn:hover {
  background-color: #555; /* Escurece ligeiramente o fundo do botão */
}

/* Ajustar tamanho da fonte para funções com nomes maiores */
.btn.function-math {
  font-size: 18px; /* Ligeiramente menor para acomodar nomes maiores */
}

.operator {
  /* Estilo para os botões de operação matemática */
  background-color: #ff9500; /* Define o fundo como laranja */
}

.operator:hover {
  /* Estilo aplicado quando o cursor passa sobre os botões de operação */
  background-color: #e68a00; /* Escurece ligeiramente o fundo */
}

.btn:active {
  /* Estilo aplicado quando o botão é clicado */
  background-color: #444; /* Escurece ainda mais o fundo */
}

.operator:active {
  /* Estilo aplicado quando um botão de operação é clicado */
  background-color: #cc7a00; /* Escurece ainda mais o fundo laranja */
}

/* Ajustar a cor dos botões especiais para roxo */
.special {
  background-color: #9d4edd; /* Roxo para botões especiais */
}

.special:hover {
  background-color: #7b2cbf; /* Tom mais escuro ao passar o cursor */
}

.special:active {
  background-color: #5a189a; /* Tom ainda mais escuro ao clicar */
}

.function-math {
  background-color: #3a86ff; /* Cor azul mais vibrante para funções matemáticas */
  color: white; /* Texto em branco para contraste */
}

.function-math:hover {
  background-color: #2a75e0; /* Tom mais escuro ao passar o cursor */
}

.function-math:active {
  background-color: #1a64d1; /* Tom ainda mais escuro ao clicar */
}


.dropdown {
  /* Configurações para o menu dropdown */
  position: absolute; /* Posiciona o menu em relação ao contentor pai */
  top: 40px; /* Define a distância do topo */
  left: 40px; /* Define a distância da esquerda */
  display: inline-block; /* Faz o menu ocupar apenas o espaço necessário */
  z-index: 10; /* Garante que o menu aparece sobre outros elementos */
}

.dropbtn {
  /* Estilo para o botão do menu dropdown */
  background-color: #ff9500; /* Define o fundo como laranja */
  color: white; /* Define o texto como branco */
  padding: 10px 15px; /* Adiciona espaço interno ao botão */
  font-size: 16px; /* Define o tamanho da fonte como 16px */
  border: none; /* Remove bordas predefinidas */
  border-radius: 8px; /* Arredonda os cantos do botão */
  cursor: pointer; /* Mostra o cursor de mão ao passar sobre o botão */
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3); /* Adiciona uma sombra subtil ao botão */
  transition: background-color 0.2s; /* Adiciona uma transição suave para mudanças de cor */
  font-weight: bold; /* Define o texto como negrito */
  width: 110px; /* Define a largura do botão */
  height: 40px; /* Define a altura do botão */
  display: flex; /* Usa flexbox para alinhar o conteúdo */
  justify-content: center; /* Centraliza o conteúdo horizontalmente */
  align-items: center; /* Centraliza o conteúdo verticalmente */
}

.dropdown-content {
  /* Configurações para o conteúdo do menu dropdown */
  display: none; /* Oculta o menu por predefinição */
  position: absolute; /* Posiciona o menu em relação ao botão */
  background-color: #444; /* Define o fundo como cinzento escuro */
  min-width: 140px; /* Define a largura mínima do menu */
  box-shadow: 0px 4px 8px 0px rgba(0,0,0,0.3); /* Adiciona uma sombra ao menu */
  z-index: 11; /* Garante que o menu aparece sobre outros elementos */
  border-radius: 6px; /* Arredonda os cantos do menu */
  overflow: hidden; /* Impede que o conteúdo ultrapasse os limites do menu */
  margin-top: 15px; /* Adiciona espaço entre o botão e o menu */
  border: 1px solid #555; /* Adiciona uma borda subtil ao menu */
}

.dropdown-content a {
  /* Estilo para os itens do menu dropdown */
  color: white; /* Define o texto como branco */
  padding: 8px 12px; /* Adiciona espaço interno aos itens */
  text-decoration: none; /* Remove sublinhados dos links */
  display: block; /* Faz os links ocuparem toda a largura disponível */
  transition: background-color 0.2s; /* Adiciona uma transição suave para mudanças de cor */
  border-bottom: 1px solid #555; /* Adiciona uma linha separadora entre os itens */
  font-size: 14px; /* Define o tamanho da fonte como 14px */
}

.dropdown-content a:last-child {
  /* Remove a linha separadora do último item */
  border-bottom: none;
}

.dropdown-content.show {
  /* Mostra o menu quando a classe .show é adicionada */
  display: block;
}

.dropdown-content a:hover {
  /* Estilo aplicado quando o cursor passa sobre os itens do menu */
  background-color: #555; /* Escurece ligeiramente o fundo */
}

.dropdown:hover .dropbtn {
  /* Estilo aplicado quando o cursor passa sobre o botão do menu */
  background-color: #e68a00; /* Escurece ligeiramente o fundo */
}

/* Manter a cor azul para botões de navegação */
.navigation {
  background-color: #4a6fa5; /* Cor azul para botões de navegação */
}

.navigation:hover {
  background-color: #3a5a80; /* Tom mais escuro ao passar o cursor */
}

.navigation:active {
  background-color: #2a4a70; /* Tom ainda mais escuro ao clicar */
}

/* Estilos para o botão e painel de histórico */
.history-btn {
  position: absolute; /* Posicionamento absoluto em relação ao contentor da calculadora */
  top: 40px; /* Ajustado para alinhar com o padding da calculadora */
  right: 40px; /* Ajustado para alinhar com o padding da calculadora */
  z-index: 10; /* Garante que apareça sobre outros elementos */
}

.btn-history {
  background-color: #9d4edd; /* Cor roxa para o botão de histórico, harmonizando com os botões especiais */
  color: white; /* Texto em branco para contraste */
  border: none; /* Remove a borda predefinida */
  padding: 10px 15px; /* Mesma padding que o dropbtn */
  font-size: 16px; /* Mesmo tamanho de fonte que o dropbtn */
  border-radius: 8px; /* Mesmo raio de borda que o dropbtn */
  cursor: pointer; /* Altera o cursor para uma mão, indicando interatividade */
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3); /* Sombra subtil para dar profundidade */
  transition: background-color 0.2s; /* Transição suave para mudanças de cor */
  font-weight: bold; /* Texto em negrito para melhor visibilidade */
  display: flex; /* Usa layout flexível para alinhar o ícone e o texto */
  align-items: center; /* Alinha verticalmente o conteúdo ao centro */
  justify-content: center; /* Centraliza o conteúdo horizontalmente */
  width: 110px; /* Largura fixa igual ao botão de menu */
  height: 40px; /* Altura fixa igual ao botão de menu */
}

/* Ajusta o espaçamento do ícone dentro do botão de histórico */
.btn-history span {
  margin-right: 5px; /* Adiciona margem à direita do ícone para separá-lo do texto */
}

.btn-history:hover {
  background-color: #7b2cbf; /* Tom mais escuro ao passar o cursor sobre o botão de histórico */
}

.history-panel {
  display: none; /* O painel de histórico fica oculto por predefinição */
  position: absolute; /* Posicionamento absoluto em relação ao contentor da calculadora */
  top: 95px; /* Ajustado para manter a mesma distância que o título tem do display */
  right: 40px; /* Alinhado com o padding da calculadora */
  width: 300px; /* Largura fixa de 300 pixels para o painel */
  background-color: #444; /* Fundo cinza escuro, harmonizando com o esquema de cores */
  border-radius: 10px; /* Arredonda os cantos do painel */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); /* Sombra pronunciada para destacar o painel */
  z-index: 100; /* Valor alto para garantir que fique acima de todos os outros elementos */
  border: 1px solid #555; /* Borda subtil para definir melhor os limites */
}

.history-panel.show {
  display: block; /* Mostra o painel quando a classe .show é adicionada */
}

.history-header {
  display: flex; /* Usa layout flexível para organizar os elementos do cabeçalho */
  justify-content: space-between; /* Distribui o espaço entre o título e o botão de fechar */
  align-items: center; /* Alinha verticalmente os elementos ao centro */
  padding: 12px 15px; /* Espaço interno: 12px em cima/baixo e 15px nos lados */
  border-bottom: 1px solid #555; /* Separador visual entre o cabeçalho e o conteúdo */
  background-color: #333; /* Fundo ligeiramente mais escuro que o corpo do painel */
  border-top-left-radius: 10px; /* Arredonda apenas os cantos superiores */
  border-top-right-radius: 10px; /* Arredonda apenas os cantos superiores */
}

.history-header h3 {
  margin: 0; /* Remove a margem predefinida do título */
  color: white; /* Texto em branco para contraste */
  font-size: 16px; /* Tamanho da fonte apropriado para o título do painel */
  font-weight: 600; /* Semi-negrito para destacar o título */
}

.history-close {
  background: none; /* Remove o fundo predefinido do botão */
  border: none; /* Remove a borda predefinida do botão */
  color: #ccc; /* Cor cinza claro para o X de fechar */
  font-size: 24px; /* Tamanho maior para o X */
  cursor: pointer; /* Altera o cursor para uma mão, indicando interatividade */
  padding: 0; /* Remove o espaço interno predefinido do botão */
  line-height: 1; /* Ajusta a altura da linha para centralizar o X */
}

.history-close:hover {
  color: white; /* Muda para branco ao passar o cursor, tornando-o mais visível */
}

.history-items {
  max-height: 400px; /* Altura máxima para a lista de histórico, permitindo scrolling */
  overflow-y: scroll; /* Adiciona barra de deslocamento vertical quando o conteúdo excede a altura */
  scrollbar-width: thin; /* Define a largura da barra de deslocamento como fina para navegadores Firefox */
  scrollbar-color: #666 #444; /* Define as cores da barra de deslocamento para Firefox */
}

.history-item {
  padding: 10px 15px 15px; /* Espaço interno para cada item do histórico */
  border-bottom: 1px solid #555; /* Separador visual entre itens */
  cursor: pointer; /* Altera o cursor para uma mão, indicando que o item é clicável */
  transition: background-color 0.2s; /* Transição suave para mudanças de cor */
}

.history-item:hover {
  background-color: #555; /* Destaque visual ao passar o cursor sobre um item */
}

.history-expression {
  color: #ccc; /* Cor cinza claro para a expressão matemática */
  font-size: 14px; /* Tamanho menor para a expressão */
  margin-bottom: 5px; /* Espaço entre a expressão e o resultado */
  word-break: break-all; /* Permite quebra de linha em qualquer carácter para expressões longas */
}

.history-result {
  color: white; /* Texto em branco para o resultado */
  font-size: 16px; /* Tamanho maior para o resultado, destacando-o */
  font-weight: bold; /* Negrito para enfatizar o resultado */
  word-break: break-all; /* Permite quebra de linha em qualquer carácter para resultados longos */
}

.history-empty {
  padding: 20px; /* Espaço interno para a mensagem de "sem histórico" */
  text-align: center; /* Centraliza a mensagem */
  color: #999; /* Cor cinza médio para a mensagem */
  font-style: italic; /* Texto em itálico para destacar que é uma mensagem informativa */
}

.history-footer {
  padding: 10px 15px; /* Espaço interno para o rodapé */
  border-top: 1px solid #555; /* Separador visual entre o conteúdo e o rodapé */
  text-align: center; /* Centraliza o botão de limpar histórico */
}

/* Estilos para os botões de ação do histórico */
.history-actions {
  display: flex;
  gap: 5px;
  margin-top: 8px;
}

.history-action-btn {
  flex: 1;
  background-color: #555;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 4px 8px;
  font-size: 12px;
  cursor: pointer;
  transition: background-color 0.2s;
}

.history-action-btn:hover {
  background-color: #666;
}

.expr-btn {
  background-color: #3a86ff;
}

.expr-btn:hover {
  background-color: #2a75e0;
}

.result-btn {
  background-color: #ff9500;
}

.result-btn:hover {
  background-color: #e68a00;
}

.clear-history {
  display: inline-block; /* Faz o elemento ocupar apenas o espaço necessário */
  background-color: #666; /* Cor de fundo cinza médio para o botão */
  color: white; /* Texto em branco para contraste */
  text-decoration: none; /* Remove o sublinhado predefinido do link */
  padding: 8px 15px; /* Espaço interno para o botão */
  border-radius: 5px; /* Arredonda os cantos do botão */
  font-size: 14px; /* Tamanho da fonte para o botão */
  transition: background-color 0.2s; /* Transição suave para mudanças de cor */
}

.clear-history:hover {
  background-color: #777; /* Tom ligeiramente mais claro ao passar o cursor */
}

/* Estilização da barra de deslocamento para navegadores Chrome, Edge e Safari */
.history-items::-webkit-scrollbar {
  width: 8px; /* Define a largura da barra de deslocamento como 8 pixels */
}

.history-items::-webkit-scrollbar-track {
  background: #444; /* Define a cor de fundo da área da barra como cinza escuro */
  border-radius: 4px; /* Arredonda os cantos da área da barra */
}

.history-items::-webkit-scrollbar-thumb {
  background: #666; /* Define a cor do "polegar" da barra como cinza médio */
  border-radius: 4px; /* Arredonda os cantos do "polegar" */
  border: 1px solid #444; /* Adiciona uma borda subtil ao "polegar" */
}

.history-items::-webkit-scrollbar-thumb:hover {
  background: #777; /* Tom ligeiramente mais claro ao passar o cursor sobre a barra */
}

/* Estilo para botões de função específicos que precisam de mais espaço */
.btn.function {
  font-size: 16px; /* Aumentado de 14px para 16px */
}

/* Botões que ocupam duas colunas */
.btn-wide {
  grid-column: span 2;
}

/* Botões que ocupam duas linhas */
.btn-tall {
  grid-row: span 2;
}

/* Estilos para o botão toggle de modo angular */
.angle-mode-toggle {
  position: absolute;
  top: 15px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  align-items: center;
  background-color: #222;
  padding: 5px 10px;
  border-radius: 30px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
  z-index: 10;
  border: 1px solid #444;
  transition: all 0.3s ease;
}

.angle-mode-toggle span {
  color: #999;
  font-size: 14px;
  font-weight: normal; /* Normal por padrão */
  padding: 0 5px;
  transition: all 0.3s; /* Transição suave para todas as propriedades */
}

.angle-mode-toggle span.active {
  color: #ff9500;
  font-weight: bold; /* Negrito quando ativo */
}

/* Estilo do switch */
.switch {
  position: relative;
  display: inline-block;
  width: 40px;
  height: 20px;
  margin: 0 5px;
}

.switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #666;
  transition: .4s;
}

.slider:before {
  position: absolute;
  content: "";
  height: 16px;
  width: 16px;
  left: 2px;
  bottom: 2px;
  background-color: white;
  transition: .4s;
}

input:checked + .slider {
  background-color: #ff9500;
}

input:checked + .slider:before {
  transform: translateX(20px);
}

.slider.round {
  border-radius: 34px;
}

.slider.round:before {
  border-radius: 50%;
}